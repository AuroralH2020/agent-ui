"use strict";(self.webpackChunkng_new_app=self.webpackChunkng_new_app||[]).push([[455],{4455:(E,p,r)=>{r.r(p),r.d(p,{TdEditorModule:()=>S});var n=r(1180),f=r(6814),l=r(1264),c=r(5118),u=r(95),t=r(4946),h=r(501),v=r(2280),g=r(5073);let Z=(()=>{var i;class o{constructor(e,s,a){(0,n.Z)(this,"_ref",void 0),(0,n.Z)(this,"_router",void 0),(0,n.Z)(this,"td",new u.NI("",{updateOn:"change",validators:[u.kI.required]})),(0,n.Z)(this,"tdStr",""),this._ref=s,this._router=a;const m=e.data?.td;this.tdStr=JSON.stringify(m,null,2)}ngOnInit(){setTimeout(()=>{this.td.setValue(this.tdStr)},0)}onSuccess(){this._ref.close(),this._router.navigateByUrl("/home/my-node")}}return i=o,(0,n.Z)(o,"\u0275fac",function(e){return new(e||i)(t.Y36(c.S),t.Y36(c.E7),t.Y36(l.F0))}),(0,n.Z)(o,"\u0275cmp",t.Xpm({type:i,selectors:[["app-create-item"]],decls:6,vars:4,consts:[[1,"w-full","h-full","flex","flex-col"],[1,"w-full","grow"],[3,"formControl"],[1,"flex","items-center","w-full","justify-between","mt-8"],["label","Copy TD","copyMessage","TD copied to clipboard",3,"textToCopy"],[3,"disabled","td","onSuccess"]],template:function(e,s){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"app-json-editor",2),t.qZA(),t.TgZ(3,"div",3),t._UZ(4,"app-platform-copy",4),t.TgZ(5,"app-create-item-button",5),t.NdJ("onSuccess",function(){return s.onSuccess()}),t.qZA()()()),2&e&&(t.xp6(2),t.Q6J("formControl",s.td),t.xp6(2),t.Q6J("textToCopy",s.tdStr),t.xp6(1),t.Q6J("disabled",!s.td.valid)("td",s.td.value))},dependencies:[u.JJ,u.oH,h.T,v.m,g.Z]})),o})();const T=[{path:"",component:(()=>{var i;class o{constructor(e,s,a){(0,n.Z)(this,"_dialogService",void 0),(0,n.Z)(this,"_router",void 0),(0,n.Z)(this,"_zone",void 0),(0,n.Z)(this,"ref",void 0),this._dialogService=e,this._router=s,this._zone=a}onMessage(e){const s=e.data;s&&this._zone.run(()=>{this._handle(s)})}_handle(e){"string"==typeof e||e instanceof String?"close"===e&&this._router.navigateByUrl("/home/items/my-node"):e&&e.name&&e.td&&(this.ref=this._dialogService.open(Z,{width:"900px",height:"calc(100vh - 80px)",header:(e.name??"Item")+"'s Thing Desctiption",data:{td:e.td}}))}}return i=o,(0,n.Z)(o,"\u0275fac",function(e){return new(e||i)(t.Y36(c.xA),t.Y36(l.F0),t.Y36(t.R0b))}),(0,n.Z)(o,"\u0275cmp",t.Xpm({type:i,selectors:[["app-td-editor"]],hostBindings:function(e,s){1&e&&t.NdJ("message",function(m){return s.onMessage(m)},!1,t.Jf7)},features:[t._Bn([c.xA])],decls:2,vars:0,consts:[[1,"w-full","h-full"],["width","100%","height","100%","frameBorder","0","src","https://tdeditor.bavenir.eu/td-editor/sections/type?nodeUI=true"]],template:function(e,s){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"iframe",1),t.qZA())}})),o})()}];let C=(()=>{var i;class o{}return i=o,(0,n.Z)(o,"\u0275fac",function(e){return new(e||i)}),(0,n.Z)(o,"\u0275mod",t.oAB({type:i})),(0,n.Z)(o,"\u0275inj",t.cJS({imports:[l.Bz.forChild(T),l.Bz]})),o})();var y=r(7603);let S=(()=>{var i;class o{}return i=o,(0,n.Z)(o,"\u0275fac",function(e){return new(e||i)}),(0,n.Z)(o,"\u0275mod",t.oAB({type:i})),(0,n.Z)(o,"\u0275inj",t.cJS({imports:[f.ez,C,y.m]})),o})()}}]);