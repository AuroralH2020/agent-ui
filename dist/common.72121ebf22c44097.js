"use strict";(self.webpackChunkng_new_app=self.webpackChunkng_new_app||[]).push([[592],{5073:(Z,y,n)=>{n.d(y,{Z:()=>h});var m=n(5861),t=n(1180),a=n(4946),p=n(9576),e=n(7555),g=n(707);let h=(()=>{var f;class u{constructor(i,r){(0,t.Z)(this,"_itemsService",void 0),(0,t.Z)(this,"_snackBar",void 0),(0,t.Z)(this,"td",void 0),(0,t.Z)(this,"disabled",!1),(0,t.Z)(this,"onSuccess",new a.vpe),(0,t.Z)(this,"loading",!1),this._itemsService=i,this._snackBar=r}createItem(){var i=this;return(0,m.Z)(function*(){if(i.td){i.loading=!0;try{yield i._itemsService.registerNewItem(JSON.parse(i.td)),i._snackBar.showSuccess("Item created"),i.onSuccess.emit()}finally{i.loading=!1}}})()}}return f=u,(0,t.Z)(u,"\u0275fac",function(i){return new(i||f)(a.Y36(p.L),a.Y36(e.c))}),(0,t.Z)(u,"\u0275cmp",a.Xpm({type:f,selectors:[["app-create-item-button"]],inputs:{td:"td",disabled:"disabled"},outputs:{onSuccess:"onSuccess"},decls:1,vars:2,consts:[["label","Create Item","icon","pi pi-plus",3,"disabled","loading","click"]],template:function(i,r){1&i&&(a.TgZ(0,"p-button",0),a.NdJ("click",function(){return r.createItem()}),a.qZA()),2&i&&a.Q6J("disabled",r.disabled)("loading",r.loading)},dependencies:[g.zx]})),u})()},5576:(Z,y,n)=>{n.d(y,{q:()=>f});var m=n(1180),t=n(4946),a=n(8998),p=n(5597),e=n(1723),g=n(5578);function h(u,_){1&u&&t._UZ(0,"fa-icon",4)}let f=(()=>{var u;class _{constructor(r){(0,m.Z)(this,"_nodeService",void 0),(0,m.Z)(this,"width",void 0),(0,m.Z)(this,"size",void 0),this._nodeService=r}ngOnInit(){}get agid(){return this._nodeService.myNode.agid}}return u=_,(0,m.Z)(_,"\u0275fac",function(r){return new(r||u)(t.Y36(a.Z))}),(0,m.Z)(_,"\u0275cmp",t.Xpm({type:u,selectors:[["app-node-pictogram"]],inputs:{width:"width",size:"size"},decls:5,vars:3,consts:[["shape","square",3,"size"],["pictogramRef",""],[1,"font-medium","text-text-500","h-8","w-fit"],["copyMessage","Agid copied to clipboard",3,"id","width"],["icon","circle-nodes",2,"font-size","1.5rem","color","#4d8a8c"]],template:function(r,v){1&r&&(t.TgZ(0,"app-pictogram",0),t.YNc(1,h,1,0,"ng-template",null,1,t.W1O),t.TgZ(3,"div",2),t._UZ(4,"app-long-id",3),t.qZA()()),2&r&&(t.Q6J("size",v.size),t.xp6(4),t.Q6J("id",v.agid)("width",v.width))},dependencies:[p.BN,e.u,g.a],styles:[".actions[_ngcontent-%COMP%]{background:rgb(248,249,250);background:linear-gradient(90deg,rgba(248,249,250,0) 0%,rgb(248,249,250) 50%)}"]})),_})()},8362:(Z,y,n)=>{n.d(y,{t:()=>E});var m=n(5861),t=n(1180),a=n(5118),p=n(95),e=n(4946),g=n(501),h=n(2280);let f=(()=>{var l;class c{constructor(o){(0,t.Z)(this,"_config",void 0),(0,t.Z)(this,"result",new p.NI("",{validators:[p.kI.required]})),this._config=o}ngOnInit(){this._init()}_init(){var o=this;return(0,m.Z)(function*(){const s=o._config.data.result;setTimeout(()=>{o.result.setValue(s)},0)})()}}return l=c,(0,t.Z)(c,"\u0275fac",function(o){return new(o||l)(e.Y36(a.S))}),(0,t.Z)(c,"\u0275cmp",e.Xpm({type:l,selectors:[["app-query-result-dialog"]],decls:5,vars:3,consts:[[1,"w-full","h-full","flex","flex-col"],[1,"w-full","grow"],[3,"formControl","readOnly"],[1,"mt-8"],["label","Copy Result","copyMessage","Result copied to clipboard",3,"textToCopy"]],template:function(o,s){1&o&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-json-editor",2),e.qZA(),e.TgZ(3,"div",3),e._UZ(4,"app-platform-copy",4),e.qZA()()),2&o&&(e.xp6(2),e.Q6J("formControl",s.result)("readOnly",!0),e.xp6(2),e.Q6J("textToCopy",s.result.value))},dependencies:[p.JJ,p.oH,g.T,h.m]})),c})();var u=n(6814),_=n(7791),i=n(707),r=n(3842),v=n(9468);function C(l,c){1&l&&(e.TgZ(0,"div",8),e._UZ(1,"app-spinner"),e.qZA())}function T(l,c){if(1&l&&(e.TgZ(0,"div",9),e._UZ(1,"app-sad-face"),e.TgZ(2,"div"),e._uU(3,"No result"),e.qZA(),e.TgZ(4,"div",10),e._uU(5),e.qZA()()),2&l){const d=e.oxw();let o;e.xp6(5),e.hij(" ",null!==(o=d.noResultDesc)&&void 0!==o?o:"To see the result, please type and execute the query"," ")}}function x(l,c){if(1&l){const d=e.EpF();e.TgZ(0,"div",11)(1,"p-button",12),e.NdJ("click",function(){e.CHM(d);const s=e.oxw();return e.KtG(s.expandResult())}),e.qZA()()}}function R(l,c){if(1&l&&(e.TgZ(0,"div",13),e._UZ(1,"app-platform-copy",14),e.qZA()),2&l){const d=e.oxw();e.xp6(1),e.Q6J("textToCopy",d.queryResult)("copyMessage",d.title+" copied to clipboard")}}const O=function(l){return["w-full",l]};let E=(()=>{var l;class c{constructor(o){(0,t.Z)(this,"_dialogService",void 0),(0,t.Z)(this,"title","Result"),(0,t.Z)(this,"queryResult",void 0),(0,t.Z)(this,"loading",!1),(0,t.Z)(this,"height",void 0),(0,t.Z)(this,"noResultDesc",void 0),(0,t.Z)(this,"ref",void 0),(0,t.Z)(this,"mac",!1),(0,t.Z)(this,"result",new p.NI("",{updateOn:"change"})),this._dialogService=o}ngOnInit(){this._set()}ngOnChanges(o){this._set()}_set(){var o=this;return(0,m.Z)(function*(){const s=o.queryResult;s&&setTimeout(()=>{o.result.setValue(s)},0)})()}expandResult(){this.ref=this._dialogService.open(f,{header:this.title,width:"calc(100vw - 80px)",height:"calc(100vh - 20px)",contentStyle:{overflow:"auto"},baseZIndex:1e4,maximizable:!1,data:{result:this.queryResult}})}}return l=c,(0,t.Z)(c,"\u0275fac",function(o){return new(o||l)(e.Y36(a.xA))}),(0,t.Z)(c,"\u0275cmp",e.Xpm({type:l,selectors:[["app-query-result"]],inputs:{title:"title",queryResult:"queryResult",loading:"loading",height:"height",noResultDesc:"noResultDesc"},features:[e._Bn([a.xA]),e.TTD],decls:8,vars:16,consts:[[3,"legend","ngClass"],[1,"w-full","flex","flex-col"],["class","h-full w-full flex flex-col justify-center items-center",4,"ngIf"],[1,"w-full","h-full","grow","relative",3,"hidden"],["class","h-full w-full flex flex-col justify-center items-center gap-2",4,"ngIf"],[2,"width","100%","height","100%",3,"formControl","hidden","fontSize","showGutter","readOnly"],["class","absolute -top-12 -right-4",4,"ngIf"],["style","height: 40px;","class","flex items-center leading-none",4,"ngIf"],[1,"h-full","w-full","flex","flex-col","justify-center","items-center"],[1,"h-full","w-full","flex","flex-col","justify-center","items-center","gap-2"],[1,"text-text-300","text-sm","text-center"],[1,"absolute","-top-12","-right-4"],["icon","pi pi-window-maximize","styleClass","p-button-rounded p-button-text",3,"click"],[1,"flex","items-center","leading-none",2,"height","40px"],["label","Copy Result",3,"textToCopy","copyMessage"]],template:function(o,s){1&o&&(e.TgZ(0,"p-fieldset",0)(1,"div",1),e.YNc(2,C,2,0,"div",2),e.TgZ(3,"div",3),e.YNc(4,T,6,1,"div",4),e._UZ(5,"app-json-editor",5),e.YNc(6,x,2,0,"div",6),e.qZA(),e.YNc(7,R,2,2,"div",7),e.qZA()()),2&o&&(e.Q6J("legend",s.title)("ngClass",e.VKq(14,O,s.queryResult?" custom-fieldset":"")),e.xp6(1),e.Akn("height: "+s.height),e.xp6(1),e.Q6J("ngIf",s.loading),e.xp6(1),e.Q6J("hidden",s.loading),e.xp6(1),e.Q6J("ngIf",!s.queryResult),e.xp6(1),e.Q6J("formControl",s.result)("hidden",!s.queryResult)("fontSize",12)("showGutter",!1)("readOnly",!0),e.xp6(1),e.Q6J("ngIf",s.queryResult&&!s.loading),e.xp6(1),e.Q6J("ngIf",s.queryResult))},dependencies:[u.mk,u.O5,_.p,i.zx,p.JJ,p.oH,r.W,v.O,g.T,h.m],styles:[".custom-fieldset .p-fieldset .p-fieldset-content{padding:0!important;padding-top:1.25rem!important;padding-left:1.25rem!important;padding-right:1.25rem!important}.custom-fieldset .ace_content{margin-bottom:1.25rem}\n"],encapsulation:2})),c})()}}]);