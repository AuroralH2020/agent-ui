<!-- <div *ngIf="loading; else elseBlock" class="flex items-center justify-center">
  <app-spinner></app-spinner>
</div>

<ng-template #elseBlock>
  <div>
    <div class="relative">
      <div class="absolute right-3 top-10">
        <p-button icon="pi pi-copy" styleClass="p-button-rounded p-button-text"></p-button>
      </div>
      <div>
        <p-fieldset [legend]="prop.name ?? 'Property'">
          <div class="overflow-y-auto">
            <pre>{{ data | json }}</pre>
          </div>
        </p-fieldset>
      </div>
    </div>
    <div class="h-8"></div>
  </div>
</ng-template> -->

<div class="flex-col card-loose">
  <div class="text-text-600 text-md pb-4">
    {{ prop.name }}
  </div>
  <div class="grid grid-cols-12 gap-4 min-h-[calc(100%-2rem)]">
    <div class="col-span-12 md:col-span-3">
      <div class="section">
        <div class="pb-2">
          <div class="item-label">Description:</div>
          <div>
            {{ prop.desc ?? '-' }}
          </div>
        </div>
        <div class="flex gap-2">
          <div class="item-label">Type:</div>
          <div>
            {{ prop.type ?? '-' }}
          </div>
        </div>
        <div class="flex gap-2">
          <div class="item-label">Data Type:</div>
          <div>
            {{ prop.datatype ?? '-' }}
          </div>
        </div>
        <div class="flex gap-2">
          <div class="item-label">Data Units:</div>
          <div>
            {{ prop.dataunits ?? '-' }}
          </div>
        </div>
      </div>
    </div>
    <div class="col-span-12 md:col-span-9">
      <div class="section-pt-0">
        <p-tabView>
          <p-tabPanel header="Query Params">
            <div class="w-full pb-2">
              <div *ngIf="requestParams.length === 0">
                <button
                  pButton
                  pRipple
                  type="button"
                  label="Add Param"
                  icon="pi pi-plus"
                  class="p-button-outlined p-button-sm"
                  (click)="addParam()"
                ></button>
              </div>
              <div *ngIf="requestParams.length !== 0">
                <p-table
                  [value]="requestParams"
                  styleClass="p-datatable-sm"
                  [scrollable]="true"
                  scrollHeight="330px"
                >
                  <ng-template pTemplate="header">
                    <tr>
                      <th>Key</th>
                      <th></th>
                      <th>Value</th>
                      <th></th>
                    </tr>
                  </ng-template>
                  <ng-template pTemplate="body" let-item>
                    <tr>
                      <td style="width: 100px">
                        <div>
                          <input pInputText [pKeyFilter]="blockSpace" class="p-inputtext-sm" [autofocus]="true" />
                        </div>
                      </td>
                      <td style="width: 5px">
                        <div>:</div>
                      </td>
                      <td style="width: 100px">
                        <div>
                          <input pInputText [pKeyFilter]="blockSpace" class="p-inputtext-sm" />
                        </div>
                      </td>
                      <td style="width: 100%">
                        <div class="grow">
                          <!-- <p-button icon="pi pi-trash" styleClass="p-button-sm p-button-danger"></p-button> -->
                          <p-button
                            icon="pi pi-trash"
                            styleClass="p-button-rounded p-button-danger p-button-text"
                          ></p-button>
                        </div>
                      </td>
                    </tr>
                  </ng-template>
                </p-table>
                <div class="mt-3 ml-2">
                  <button
                    pButton
                    pRipple
                    type="button"
                    label="Add Param"
                    icon="pi pi-plus"
                    class="p-button-outlined p-button-sm"
                    (click)="addParam()"
                  ></button>
                </div>
              </div>
            </div>
          </p-tabPanel>
          <p-tabPanel header="Request Body">
            <textarea
              placeholder="Enter Body"
              pInputTextarea
              [autoResize]="false"
              [spellcheck]="false"
              style="width: 100%; max-width: 100%; height: 388px; max-height: 388px"
            ></textarea>
          </p-tabPanel>
        </p-tabView>
      </div>
      <div class="flex justify-start mt-4 ml-2">
        <button
          pButton
          pRipple
          type="button"
          label="Get Data"
          icon="pi pi-database"
          class="p-button p-button-sm"
        ></button>
      </div>
    </div>
  </div>
</div>
