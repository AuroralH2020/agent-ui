<div
  *ngIf="!detail"
  class="flex flex-col items-center justify-center h-32 m-auto"
>
  <div class="text-center">Data misssing or corrupt</div>
</div>

<div *ngIf="detail" class="pb-16">
  <app-item-pictogram [name]="detail.type"></app-item-pictogram>
  <div class="h-2"></div>
  <div class="text-md font-normal opacity-80 w-56 break-words">
    {{ detail.name }}
  </div>
  <div class="h-1"></div>
  <div class="flex flex-row justify-between gap-4">
    <div class="flex flex-col gap-4">
      <app-item-online [online]="detail.dataAccess"></app-item-online>
      <div class="item" *ngIf="detail.description">
        <div class="label">Description:</div>
        <div class="content">
          <div class="opacity-30 font-medium w-64 text-xs">
            {{ detail.description }}
          </div>
        </div>
      </div>
      <div class="item">
        <div class="label">Owned by:</div>
        <div class="content">
          <app-item-owner [owner]="detail.owner"></app-item-owner>
        </div>
      </div>
      <div class="item">
        <div class="label">Subscribed by:</div>
        <div class="content">
          <div [class]="detail.subscribers.length === 0 ? '' : 'py-1'">
            <app-item-subscribers
              [companies]="detail.subscribers"
            ></app-item-subscribers>
          </div>
        </div>
      </div>
      <div class="h-2"></div>
      <div class="item">
        <div class="label">Available properties:</div>
        <div class="content">
          <div *ngIf="detail.noProperties; else elsePropertyBlock">
            <div class="no-data">
              This item has no properties available for subscription
            </div>
          </div>
          <ng-template #elsePropertyBlock>
            <div class="mt-2">
              <app-item-monitors [monitors]="detail.properties">
              </app-item-monitors>
            </div>
          </ng-template>
        </div>
      </div>
      <div class="h-1"></div>
      <div class="item">
        <div class="label">Available events:</div>
        <div class="content">
          <div *ngIf="detail.noEvents; else elseEventBlock">
            <div class="no-data">
              This item has no events available for subscription
            </div>
          </div>
          <ng-template #elseEventBlock>
            <div class="mt-2">
              <app-item-monitors [monitors]="detail.events">
              </app-item-monitors>
            </div>
          </ng-template>
        </div>
      </div>
    </div>
    <div class="item">
      <div class="label">Active subscriptions:</div>
      <div class="content">
        <app-tab-group>
          <app-tab
            label="All"
            [disabled]="detail.noSubscriptions"
            disabledTooltip="No subscriptions."
          >
            <app-item-subscriptions
              [detail]="detail"
              subscriptionType="all"
            ></app-item-subscriptions>
          </app-tab>
          <app-tab
            label="Properties"
            [disabled]="detail.noPropertySubscriptions"
            disabledTooltip="No property subscriptions."
          >
            <app-item-subscriptions
              [detail]="detail"
              subscriptionType="properties"
            ></app-item-subscriptions>
          </app-tab>
          <app-tab
            label="Events"
            [disabled]="detail.noEventSubscriptions"
            disabledTooltip="No event subscriptions."
          >
            <app-item-subscriptions
              [detail]="detail"
              subscriptionType="events"
            ></app-item-subscriptions>
          </app-tab>
        </app-tab-group>
      </div>
    </div>
    <div class="w-80"></div>
  </div>
</div>
